<ion-header id="mainHeader" header>
  <ion-toolbar>
    <div class="addressDetails">
      <img
        src="assets/menuHamburger.png"
        class="menu"
        (click)="changeLocation()"
      />
      <p class="location" (click)="changeLocation()">
        {{ locationName | slice: 0:25 }}
      </p>
      <ion-avatar class="profile" *ngIf="profile" (click)="updateProfile()">
        <img src="{{profile}}" />
      </ion-avatar>
      <ion-avatar class="profile" *ngIf="!profile" (click)="updateProfile()">
        <img src="assets/user.png" />
      </ion-avatar>
    </div>
  </ion-toolbar>
</ion-header>
<ion-content [scrollEvents]="true" (ionScroll)="onScroll($event)">
  <div class="div_searchbar">
    <ion-searchbar
      animated="true"
      mode="ios"
      placeholder="Search Users"
      (ionChange)="onSearchChange($event)"
      [debounce]="250"
      class="search_bar"
    ></ion-searchbar>
  </div>
  <ion-list lines="none">
    <ion-list-header> Online </ion-list-header>

    <ion-item *ngFor="let users of allOnlineUsers">
      <ion-avatar slot="start" *ngIf="users.cover">
        <img src="{{users.cover}}" />
      </ion-avatar>
      <ion-avatar slot="start" *ngIf="!users.cover">
        <img src="assets/user.png" />
      </ion-avatar>
      <ion-label>
        <h2>{{ users.firstname }} {{ users.surname }}</h2>
        <h3>{{ users.location }}</h3>
        <p>{{ users.loginTime.toDate() | date: 'dd MMM hh:mm' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list lines="none">
    <ion-list-header> Offline </ion-list-header>

    <ion-item *ngFor="let users of allOfflineUsers">
      <ion-avatar slot="start" *ngIf="users.cover">
        <img src="{{users.cover}}" />
      </ion-avatar>
      <ion-avatar slot="start" *ngIf="!users.cover">
        <img src="assets/user.png" />
      </ion-avatar>
      <ion-label>
        <h2>{{ users.firstname }} {{ users.surname }}</h2>
        <p>Last seen: {{ users.loginTime.toDate() | date: 'dd MMM hh:mm' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list lines="none">
    <ion-list-header> On Leave </ion-list-header>

    <ion-item *ngFor="let users of allOnLeaveUsers">
      <ion-avatar slot="start" *ngIf="users.cover">
        <img src="{{users.cover}}" />
      </ion-avatar>
      <ion-avatar slot="start" *ngIf="!users.cover">
        <img src="assets/user.png" />
      </ion-avatar>
      <ion-label>
        <h2>{{ users.firstname }} {{ users.surname }}</h2>
        <p>Returning: {{ users.loginTime.toDate() | date: 'dd MMM yyyy' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list lines="none">
    <ion-list-header> Other </ion-list-header>

    <ion-item *ngFor="let users of allOtherUsers">
      <ion-avatar slot="start" *ngIf="users.cover">
        <img src="{{users.cover}}" />
      </ion-avatar>
      <ion-avatar slot="start" *ngIf="!users.cover">
        <img src="assets/user.png" />
      </ion-avatar>
      <ion-label>
        <h2>{{ users.firstname }} {{ users.surname }}</h2>
        <h3>{{ users.location }}</h3>
        <p>{{ users.loginTime.toDate() | date: 'dd MMM hh:mm' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
